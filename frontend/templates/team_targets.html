{% extends "layout.html" %}
{% block body %}

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.min.js"></script>

<body>
	<div class='center-align'>
		<h4>{{team}}</h4>
	    <div id="canvas-holder" style="width:100%; height:60%">
	        <canvas id="chart-area" />
	    </div>
	</div>
    
    <script>
		data = {{data|safe}}
		bg = {{background_colors|safe}}
		labels = {{labels|safe}}

		plotData = []
		for (var i = 0; i<data.length; i++) {
			plotData.push({data: data[i], backgroundColor: bg, label: 'Week ' + (i+1), labelColor: 'white', labelFontSize: 16})
		}
	    
	    var config = {
	        type: 'doughnut',
	        data: {
	            datasets: plotData,
	            labels: labels
	        },
	        options: {
	            responsive: true,
	            legend: {
	                position: 'top',
	            },
	            animation: {
	                animateScale: true,
	                animateRotate: true
	            }
	        }
	    };
	    window.onload = function() {
	        var ctx = document.getElementById("chart-area").getContext("2d");
	        window.myDoughnut = new Chart(ctx, config);
	    };
    </script>
</body>

</html>

{% endblock %}